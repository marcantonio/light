---
source: crates/codegen/src/tests.rs
assertion_line: 224
expression: "(test[1], res, res_opt)"
---
- "\nfn plus_one(x: int) -> int { x + 1 }\nfn main() {\n    if plus_one(6) == 5 {\n        7\n    } else if plus_one(1) == 2 {\n        2\n    } else {\n        1\n    }\n}\n"
- "; ModuleID = 'main'\nsource_filename = \"main\"\n\ndefine i32 @\"_main~plus_one~int32~int32\"(i32 %x) {\nentry:\n  %x1 = alloca i32, align 4\n  store i32 %x, i32* %x1, align 4\n  %x2 = load i32, i32* %x1, align 4\n  %add.int = add i32 %x2, 1\n  ret i32 %add.int\n}\n\ndefine void @main() {\nentry:\n  %\"call__main~plus_one~int32~int32\" = call i32 @\"_main~plus_one~int32~int32\"(i32 6)\n  %eq.int = icmp eq i32 %\"call__main~plus_one~int32~int32\", 5\n  %if.cond.int = icmp ne i1 %eq.int, false\n  br i1 %if.cond.int, label %if.then, label %if.else\n\nif.then:                                          ; preds = %entry\n  br label %if.end\n\nif.end:                                           ; preds = %if.end5, %if.then\n  %if.else.phi.int327 = phi i32 [ 7, %if.then ], [ %if.else.phi.int32, %if.end5 ]\n  ret void\n\nif.else:                                          ; preds = %entry\n  %\"call__main~plus_one~int32~int321\" = call i32 @\"_main~plus_one~int32~int32\"(i32 1)\n  %eq.int2 = icmp eq i32 %\"call__main~plus_one~int32~int321\", 2\n  %if.cond.int3 = icmp ne i1 %eq.int2, false\n  br i1 %if.cond.int3, label %if.then4, label %if.else6\n\nif.then4:                                         ; preds = %if.else\n  br label %if.end5\n\nif.end5:                                          ; preds = %if.else6, %if.then4\n  %if.else.phi.int32 = phi i32 [ 2, %if.then4 ], [ 1, %if.else6 ]\n  br label %if.end\n\nif.else6:                                         ; preds = %if.else\n  br label %if.end5\n}\n"
- "; ModuleID = 'main'\nsource_filename = \"main\"\n\ndefine i32 @\"_main~plus_one~int32~int32\"(i32 %x) {\nentry:\n  %add.int = add i32 %x, 1\n  ret i32 %add.int\n}\n\ndefine void @main() {\nentry:\n  %\"call__main~plus_one~int32~int32\" = call i32 @\"_main~plus_one~int32~int32\"(i32 6)\n  %eq.int = icmp eq i32 %\"call__main~plus_one~int32~int32\", 5\n  br i1 %eq.int, label %if.end, label %if.else\n\nif.end:                                           ; preds = %if.else, %entry\n  ret void\n\nif.else:                                          ; preds = %entry\n  %\"call__main~plus_one~int32~int321\" = call i32 @\"_main~plus_one~int32~int32\"(i32 1)\n  br label %if.end\n}\n"

